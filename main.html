<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>main</title>
    <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Bad+Script|Gruppo|Kumar+One+Outline|League+Script|Londrina+Outline|Monoton|Sriracha|Yellowtail&text=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789宇宙银河?+'>

</head>
<body>
<div></div>
<div class="star"></div>
<div id="sky">
    <div id="moon"></div>
    <div>
        <p class="myText">宇宙银河</p>
    </div>
    <img src="images/moon.png" width="480" height="480">
</div>
</body>


<style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }

    html, body {
        width: 100%;
        height: 100%;
        position: relative;
        background-color: #000000;
    }

    .star {
        top: 0;
        left: 0;
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    #moon {
        width: 100px;
        height: 100px;
        border-radius: 50px;
        background-color: #F5FFFA;
        position: absolute;
        top: 100px;
        right: 10%;
        box-shadow: 0 0 60px #F5FFFA;
        animation: myMoon 8s linear, myMoonOut 5s ease-in-out infinite;
    }

    .meteor {
        width: 1px;
        position: absolute;
        display: block;
        opacity: 0;
        animation: meteor 4s linear infinite;
    }

    .meteor::after {
        content: "";
        display: block;
        position: absolute;
        border: 1px solid #fff;
        border-width: 0 90px 2px 90px;
        border-color: transparent transparent transparent rgba(255, 255, 255, .5);
        transform: rotate(-45deg);
    }

    img {
        position: absolute;
        bottom: 0;
        left: 0;
    }

    .myText {
        top: 30%;
        width: 100%;
        margin:0 auto;
        text-align: center;
        position: absolute;
        color: blue;
        font-size: 50px;
    }

    .eachLetter {
        display: inline-block;
        position: relative;
        padding: 0 25px;
        text-shadow: 0 0 10px azure,
                     0 0 20px aqua,
                     0 0 40px dodgerblue,
                     0 0 80px blue;
        color: azure;
        will-change: filter , color;
        filter: saturate(60%);
        font-family: Sriracha,serif;
        animation: eachText 3s ease-out both, flicker steps(100) 1s infinite;
    }

    @keyframes flicker {
        50% {
            color: white;
            filter: saturate(200%) hue-rotate(20deg);
        }
    }

    @keyframes eachText {
        from {
            opacity: 0;
            transform: translateY(-50px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }



    @keyframes meteor {
        0% {
            opacity: 0;
        }

        30% {
            opacity: 1;
        }

        100% {
            opacity: 0;
            transform: translate(-500px, 300px);
        }
    }

    @keyframes myMoonOut {
        50% {
            box-shadow: 0 0 40px #F5FFFA;
        }

        100% {
            box-shadow: 0 0 60px #F5FFFA;
        }
    }

    @keyframes myMoon {
        from {
            top: calc(100% - 100px);
            right: 50%;
            opacity: 0.3;
        }

        to {
            top: 100px;
            right: 10%;
            opacity: 1;
        }
    }

    @keyframes star{
        25% {transform: scale(1.5);}
        50% {transform: scale(2);}
        75% {transform: scale(1.5);}
        100% {transform: scale(1);}
    }

</style>


<script>
    (function(star) {
        let count = window.innerWidth;

        console.log(count);
        for(let i = 0;i < count; i++) {
            star.appendChild(starCreator())
        }

        for (let i = 0;i < 25; i++) {
            document.body.append(meteorCreator(i));
        }

        eachText();

    })(document.getElementsByClassName("star")[0]);

    function starCreator() {
        let star = document.createElement("span");
        let width = Math.ceil(Math.random()*3);
        star.style.width = width + "px";
        star.style.height = width + "px";
        star.style.position = "absolute";
        star.style.top = Math.ceil(Math.random() * window.innerHeight) + "px";
        star.style.left = Math.ceil(Math.random() * window.innerWidth) + "px";
        star.style.borderRadius = width + "px";
        star.style.backgroundColor = "#909090"
        star.style.boxShadow = "#545454 0 0 1px 1px";
        if (width < 1) {
            star.style.boxShadow = "#545454 0 0 " + (width / 2) + "px " + (width / 2) + "px";
            star.style.animation = "star 2s infinite 0.5s";
        }
        return star;
    }

    function eachText() {
        let texts = document.querySelectorAll(".myText");
        texts.forEach(text => {
            let letters = text.textContent.split("");
            text.textContent = "";
            letters.forEach((letter, i) => {
                let span = document.createElement("span");
                span.className = "eachLetter";
                span.textContent = letter;
                span.style.animationDelay = `${i + 6}s`;
                text.append(span);
            })
        })
    }

    function meteorCreator(i) {
        let meteor = document.createElement("span");
        meteor.className = 'meteor';
        meteor.style.top = (Math.random() * 200 + 100) + "px";
        meteor.style.right = (Math.random() * 400 + 150) + "px";
        meteor.style.animationDelay = (Math.random() * 3 * i) + "s";
        return meteor;
    }

</script>




</html>
